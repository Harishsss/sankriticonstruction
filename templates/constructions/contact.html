{% extends 'base.html' %}
{% load static %}
{% block contents %}


        <!-- Header Start -->
        <div class="container-fluid header bg-white p-0">
            <div class="row g-0 align-items-center flex-column-reverse flex-md-row">
                {% for i in section_image %}
                <div class="col-md-6 p-5 mt-lg-5">
                    <div class="get-quote">

                        <div>
                            <h1 class="display-5 animated fadeIn mb-4">{{i.name}}</h1> 
                        </div>
                        <div>
                            <nav aria-label="breadcrumb animated fadeIn">
                                <ol class="breadcrumb text-uppercase">
                                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                                    {% if heading in 'commercial,residential,interiors' %}
                            <li class="breadcrumb-item"><a href="/project/">Projects</a></li>
                            {% else %}
                            <li class="breadcrumb-item"><a href="/about/">About US</a></li>
                            {% endif %}
                            <li class="breadcrumb-item text-body active" aria-current="page">{{i.name}}</li>
                                </ol>
                            </nav>
                        </div>
                        <div>
                            <div class="card shadow-lg mt-5" >
                                <div class="card-body p-5">
                                    <h5 class="card-title text-center mb-4"><span style="color:#00afef">Get A Quote</span> <br>To Start Your Project</h5>
                                    <form class="row g-3 needs-validation" method="post" novalidate>
                                        {% csrf_token %}

                                        <input type="hidden" class="form-control" id="cust_id" name="cust_id" value="1" required>

                                        <div>
                                        <input type="text" class="form-control" id="name" name="name" placeholder="Your Name" pattern="[a-zA-Z ]+" required>
                                            <div class="invalid-feedback">
                                                Please provide a valid name.
                                            </div>
                                        </div>
                                        <div class="">
                                            <input type="email" class="form-control" id="email" name="email" placeholder="Your Email" required>
                                            <div class="invalid-feedback">
                                                Please provide a valid email.
                                                </div>
                                        </div>
                                        <div class="">
                                            <input type="text" class="form-control" id="phone" name="phone" placeholder="Your Mobile No" pattern="[0-9]{10}" required>
                                            <div class="invalid-feedback">
                                                Please provide a valid mobile no.
                                            </div>
                                        </div>
                                        <div class="">
                                            <button class="btn btn-primary w-100 " type="submit">Proceed</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 animated fadeIn">
                    <img class="img-fluid" src="/media/{{i.image}}" alt="">
                </div>
                {% endfor %}
            </div>
        </div>
        <!-- Header End -->

        <div class="container-fluid bg-primary mb-md-5 mb-2 wow fadeIn" data-wow-delay="0.1s" style="padding: 35px;">
            <div class="container">
                <div class="row g-2">
                    {% for i  in increments %}
                    <div class="col-md-4">
                        <div class="counter-container">
                            <div class="icrement-icon">
                                <i class="{{i.icon}}"></i>
                            </div>
                            <div class="counter" data-target="{{i.count}}"></div>
                            <div class="elementor-counter-title">{{i.name}}</div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
     
        <!-- Search End -->


        <!-- Contact Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="text-center mx-auto mb-md-5 mb-2 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                    {% for i in section_one %}
                    <h1 class="mb-3">{{i.name}}</h1>
                    <p>{{i.paragraph}}</p>
                    {% endfor %}
                </div>
                <div class="row g-4">
                    <div class="col-12">
                        <div class="row gy-4">
                            {% for i in menu %}
                            {% if i.id != 8%}
                            <div class="col-md-6 col-lg-4 wow fadeIn" data-wow-delay="0.1s">
                                <div class="bg-light rounded p-3">
                                    <div class="d-flex align-items-center bg-white rounded p-3" style="border: 1px dashed rgba(204, 239, 252, 1)">

                                        <div class="icon me-3" style="width: 45px; height: 45px;">
                                            <i class="{{i.icon}} text-primary"></i>
                                        </div>
                                        <span>{{i.name}}</span>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                    <div class="col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                        {% for i in map %}

                        <iframe class="position-relative rounded w-100 h-100"
                            src="{{i.app_link}}"
                            frameborder="0" style="min-height: 400px; border:0;" allowfullscreen="" aria-hidden="false"
                            tabindex="0"></iframe>
                        {% endfor %}
                    </div>
                    <div class="col-md-6">
                        <div class="wow fadeInUp" data-wow-delay="0.5s">
                            <p class="mb-4">We value your questions, feedback, and project inquiries. Reach out to us, and our team will be happy to assist you.</p>
                            <form method="POST" class="needs-validation" autocomplete="off" novalidate>
                                {% csrf_token %}
                                <input type="hidden" class="form-control" id="cust_id" name="cust_id" value="2" required>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="name" name="name" placeholder="Your Name" pattern="[a-zA-Z ]+" required>
                                            <label for="name">Your Name</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid name.
                                              </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="email" class="form-control" id="email" name="email" placeholder="Your Email" required>
                                            <label for="email">Your Email</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid email.
                                              </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="phone" name="phone" placeholder="Your Mobile No" pattern="[0-9]{10}" required>
                                            <label for="phone">Your Mobile No</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid mobile no.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="subject" name="subject" placeholder="Subject" required>
                                            <label for="subject">Subject</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid subject.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <textarea class="form-control" placeholder="Leave a message here" id="message" name="message" style="height: 150px" required></textarea>
                                            <label for="message">Message</label>
                                            <div class="invalid-feedback">
                                                Please provide a valid message.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-primary w-100 py-3" type="submit">Send Message</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact End -->

        <script src="{% static 'libs/jquery/dist/jquery.min.js' %}"></script>
        <script src="{% static 'js/pages/form-validation.init.js' %}"></script> 
        
       
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                let navLinks = document.querySelectorAll(".btn.btn-outline-primary");
    
                navLinks.forEach((link) => {
                    link.addEventListener("click", function (event) {
                        event.preventDefault(); // Prevent default navigation
                        let targetUrl = this.getAttribute("href"); // Get href attribute
                        window.location.href = targetUrl; // Reload window to href
                    });
                });
            })

            const counters = document.querySelectorAll(".counter");
            
            counters.forEach((counter) => {
                counter.innerText = "0";
                const updateCounter = () => {
                    const target = +counter.getAttribute("data-target");
                    const current = +counter.innerText;
                    const increment = target / 3000; // Adjust speed
            
                    if (current < target) {
                        let formatted = convertToIndianFormat(Math.ceil(current + increment));
                        counter.innerText = formatted
                        setTimeout(updateCounter, 100);
                    } else {
                        let formatted = convertToIndianFormat(target);
                        match = formatted.split(" ")
                        counter.innerText = match[0];
                        counter.nextElementSibling.innerText = target < 9999 ? " "+counter.nextElementSibling.innerText : (match[1] || "") + " "+counter.nextElementSibling.innerText;
            
                    }
                };
            
                updateCounter();
            });
            
            
            // Function to convert number to Indian format
            function convertToIndianFormat(num) {
                if (num >= 10000000) return (num / 10000000).toFixed(1) + " Crores";
                if (num >= 1000000) return (num / 1000000).toFixed(1) + " Millions";
                if (num >= 100000) return (num / 100000).toFixed(1) + " Lakhs";
                if (num >= 1000) return Math.floor(num / 100) * 100 + "+";
                if (num >= 100) return Math.floor(num / 10) * 10 + "+";
                if (num >= 10) return Math.floor(num / 10) * 10 + "+";
                return num.toString();
            }    
            </script>
{% endblock %}
        